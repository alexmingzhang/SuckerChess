GCC_WARNING_FLAGS="-Wall -Wextra -pedantic"

CLANG_WARNING_FLAGS="\
-Weverything -Wno-c++98-compat -Wno-c++98-compat-pedantic \
-Wno-poison-system-directories -Wno-weak-vtables -Wno-padded -Wno-conditional-uninitialized"

SOURCES="\
src/ChessPiece.cpp src/ChessMove.cpp src/CastlingRights.cpp \
ChessPosition.cpp \
Utilities.cpp ChessEngine.cpp ChessGame.cpp \
ChessPlayer.cpp ChessTournament.cpp main.cpp"

GCC_OPT_FLAGS="-DNDEBUG -O3 -march=native -flto=auto"

CLANG_OPT_FLAGS="-DNDEBUG -O3 -mcpu=apple-m1 -flto"

rm -f bin/*

g++-12 -std=c++20 ${GCC_WARNING_FLAGS} ${GCC_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED ${SOURCES} -o bin/SuckerChessGCC
clang++ -std=c++20 ${CLANG_WARNING_FLAGS} ${CLANG_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED ${SOURCES} -o bin/SuckerChessClang
g++-12 -std=c++20 ${GCC_WARNING_FLAGS} ${GCC_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_PIECE ${SOURCES} -o bin/SuckerChessGCCP
clang++ -std=c++20 ${CLANG_WARNING_FLAGS} ${CLANG_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_PIECE ${SOURCES} -o bin/SuckerChessClangP
g++-12 -std=c++20 ${GCC_WARNING_FLAGS} ${GCC_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_MOVE ${SOURCES} -o bin/SuckerChessGCCM
clang++ -std=c++20 ${CLANG_WARNING_FLAGS} ${CLANG_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_MOVE ${SOURCES} -o bin/SuckerChessClangM
g++-12 -std=c++20 ${GCC_WARNING_FLAGS} ${GCC_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_PIECE -DSUCKER_CHESS_USE_COMPRESSED_CHESS_MOVE ${SOURCES} -o bin/SuckerChessGCCPM
clang++ -std=c++20 ${CLANG_WARNING_FLAGS} ${CLANG_OPT_FLAGS} -DSUCKER_CHESS_USE_DETERMINISTIC_SEED -DSUCKER_CHESS_USE_COMPRESSED_CHESS_PIECE -DSUCKER_CHESS_USE_COMPRESSED_CHESS_MOVE ${SOURCES} -o bin/SuckerChessClangPM
